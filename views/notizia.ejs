<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
        <%= newsItem.title %> | Sun-Fai Cooperativa
    </title>
    <meta name="description" content="<%= newsItem.content.substring(0, 150) %>..." />
    <link rel="icon" href="/assets/logo-min.png" type="image/png" />

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'sunfai-yellow': '#FFD600',
                        'sunfai-black': '#000000',
                        'sunfai-white': '#FFFFFF',
                    },
                    fontFamily: {
                        'sans': ['"Glacial Indifference"', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        @font-face {
            font-family: 'Glacial Indifference';
            src: url('/assets/GlacialIndifference-Regular.otf') format('opentype');
            font-weight: normal;
            font-style: normal;
        }

        @font-face {
            font-family: 'Glacial Indifference';
            src: url('/assets/GlacialIndifference-Bold.otf') format('opentype');
            font-weight: bold;
            font-style: normal;
        }

        @font-face {
            font-family: 'Glacial Indifference';
            src: url('/assets/GlacialIndifference-Italic.otf') format('opentype');
            font-weight: normal;
            font-style: italic;
        }

        html {
            font-family: 'Glacial Indifference', sans-serif;
        }
    </style>
</head>

<body class="bg-white flex flex-col min-h-screen">

    <!-- NAVIGATION -->
    <%- include('partials/navbar') %>

        <!-- MAIN CONTENT -->
        <main class="flex-grow pt-40 pb-20">
            <div class="max-w-4xl mx-auto px-6">

                <!-- Breadcrumbs / Back Link -->
                <div class="mb-8">
                    <a href="/notizie"
                        class="text-gray-500 hover:text-sunfai-yellow transition flex items-center gap-2 font-bold">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
                            stroke="currentColor" class="w-4 h-4">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" />
                        </svg>
                        Torna alle notizie
                    </a>
                </div>

                <!-- Article Header -->
                <header class="mb-12 text-center">
                    <span
                        class="inline-block bg-sunfai-yellow text-black text-sm font-bold px-4 py-1 rounded-full mb-6">
                        <%= new Date(newsItem.date).toLocaleDateString('it-IT', { day: 'numeric' , month: 'long' ,
                            year: 'numeric' }) %>
                    </span>
                    <h1 class="text-4xl md:text-5xl lg:text-6xl font-black mb-8 leading-tight">
                        <%= newsItem.title %>
                    </h1>
                </header>

                <!-- Featured Image -->
                <% if (newsItem.image) { %>
                    <div class="rounded-3xl overflow-hidden shadow-2xl mb-12">
                        <img src="<%= newsItem.image %>" alt="<%= newsItem.title %>"
                            class="w-full h-auto object-cover max-h-[600px]">
                    </div>
                    <% } %>

                        <!-- Article Content -->
                        <article class="prose prose-lg md:prose-xl max-w-none text-gray-800 leading-relaxed">
                            <% // Simple paragraph conversion: split by newlines and wrap in <p>
                                const paragraphs = newsItem.content.split('\n').filter(p => p.trim() !== '');
                                paragraphs.forEach(p => {
                                %>
                                <p class="mb-6">
                                    <%= p %>
                                </p>
                                <% }); %>
                        </article>

            </div>
        </main>

        <%- include('partials/footer') %>

</body>

</html>